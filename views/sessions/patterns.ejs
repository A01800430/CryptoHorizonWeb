<%- include('../partials/header') %>

<script>
  window.onpageshow = function(event) {
    if (event.persisted) {
      window.location.reload();
    }
  };
</script>

<body>
  <!-- Barra de navegaciÃ³n -->
  <div class="menu-container">
    <%- include('../partials/navbar') %>
  </div>

  <!-- Contenido principal -->
  <main class="container-fluid py-4">

    <!-- TÃ­tulo -->
    <div class="d-flex justify-content-between align-items-center mb-4 px-3">
      <div>
        <h1 class="fw-bold text-primary">ğŸ“Š Usage Patterns</h1>
        <p class="text-muted">Detailed analysis of user behavior and engagement</p>
      </div>
    </div>

    <!-- ğŸ“… Gantt Chart -->
    <div class="card p-4 mb-4">
      <h4 class="text-secondary">ğŸ“… Session Timeline (Gantt Chart)</h4>
      <div id="ganttChartDiv" style="width: 100%; height: 400px;"></div>
    </div>

    <!-- ğŸŒ¡ï¸ Heatmap -->
    <div class="card p-4 mb-4">
      <h4 class="text-secondary">ğŸŒ¡ï¸ Usage Heatmap (Day & Hour)</h4>
      <div id="chartdiv" style="width: 100%; height: 500px;"></div>
    </div>

    <!-- ğŸ“¶ Weekly Sessions -->
    <div class="card p-4 mb-4">
      <h4 class="text-secondary">ğŸ“¶ Weekly Session Trend</h4>
      <div id="chartWeekTrend" style="width: 100%; height: 500px;"></div>
    </div>

  </main>

  <!-- Footer -->
  <%- include('../partials/footer') %>

  <!-- Scripts para grÃ¡ficos -->
  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

  <!-- Scripts personalizados -->
  <script src="/js/charts/ganttChart.js"></script>
  <script src="/js/charts/heatmap.js"></script>
  <script src="/js/charts/sessionsTrendChart.js"></script>

</body>
</html>
