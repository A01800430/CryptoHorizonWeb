<%- include('../partials/header') %>

<!-- Contenedor principal centrado -->
<div class="container py-5" style="max-width: 500px;">
  <div class="card shadow">
    <div class="card-body">
      <!-- TÃ­tulo de la pÃ¡gina -->
      <h2 class="text-center text-primary mb-4">ðŸ”‘ Reset Password</h2>

      <!-- Mostrar mensaje de error (si existe) -->
      <% if (error) { %>
        <div class="alert alert-danger"><%= error %></div>
      <% } %>

      <!-- Mostrar mensaje de Ã©xito (si existe) -->
      <% if (success) { %>
        <div class="alert alert-success"><%= success %></div>

        <!-- BotÃ³n para ir al login luego de Ã©xito -->
        <div class="text-center mt-3">
          <a href="/login" class="btn btn-primary">Go to Login</a>
        </div>

      <% } else { %>
        <!-- Formulario para actualizar la contraseÃ±a -->
        <form method="POST" action="/reset-password">
          <!-- Token oculto para validar la solicitud -->
          <input type="hidden" name="token" value="<%= token %>" />

          <!-- Nueva contraseÃ±a -->
          <div class="mb-3">
            <label class="form-label">New Password</label>
            <input type="password" name="password" class="form-control" required />
          </div>

          <!-- BotÃ³n para enviar el formulario -->
          <button type="submit" class="btn btn-success w-100">Update Password</button>
        </form>
      <% } %>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
